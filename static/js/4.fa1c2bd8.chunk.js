(this["webpackJsonpreact-way-of-samurai"]=this["webpackJsonpreact-way-of-samurai"]||[]).push([[4],{290:function(e,t,n){e.exports=n.p+"static/media/user-profile-icon-png.b3e90dfe.png"},291:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(88);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(i){a=!0,o=i}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},292:function(e,t,n){e.exports={wrapper:"Users_wrapper__3t5TF",photo:"Users_photo__hC89A",item:"Users_item__2bfch",unfollowed:"Users_unfollowed__16N7O",followed:"Users_followed__3qtTS"}},293:function(e,t,n){e.exports={wrapper:"Paginator_wrapper__1Xpzs",paginator:"Paginator_paginator__3b19q",pages:"Paginator_pages__3darZ",selectedPage:"Paginator_selectedPage__1mYpy",isFetching:"Paginator_isFetching__zhXV1"}},300:function(e,t,n){"use strict";n.r(t);var r=n(48),a=n(49),o=n(51),s=n(50),l=n(15),i=n(121),c=n(0),u=n.n(c),p=n(292),f=n.n(p),g=n(290),m=n.n(g),d=n(288),h=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,a=e.follow;return u.a.createElement("div",{className:f.a.wrapper},u.a.createElement("div",{className:f.a.item},u.a.createElement(d.a,{to:"/profile/"+t.id},u.a.createElement("img",{src:t.photos.small?t.photos.small:m.a,className:f.a.photo,alt:"avatar"})),t.followed?u.a.createElement("button",{className:f.a.followed,disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"\u2717"):u.a.createElement("button",{className:f.a.unfollowed,disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"\u2713")),u.a.createElement("div",null,u.a.createElement("div",null,t.name),u.a.createElement("div",null,t.status),u.a.createElement("div",null,'"user.location.country"'),u.a.createElement("div",null,'"user.location.city"')))},b=function(e){var t=e.users,n=e.follow,r=e.unfollow,a=e.followingInProgress;return u.a.createElement("div",null,t.map((function(e){return u.a.createElement(h,{user:e,follow:n,unfollow:r,followingInProgress:a})})))},w=n(65),P=n(7),v=function(e){return e.usersPage.users},E=function(e){return e.usersPage.pageSize},_=function(e){return e.usersPage.totalUsersCount},y=function(e){return e.usersPage.currentPage},C=function(e){return e.usersPage.isFetching},k=function(e){return e.usersPage.followingInProgress},S=n(291),j=n(293),O=n.n(j),F=u.a.memo((function(e){for(var t=e.pageSize,n=e.totalItemsCount,r=e.currentPage,a=e.onPageChanged,o=e.portionSize,s=e.isFetching,l=Math.ceil(n/t),i=[],p=1;p<=l;p++)i.push(p);var f=Math.ceil(l/o),g=Object(c.useState)(1),m=Object(S.a)(g,2),d=m[0],h=m[1],b=(d-1)*o+1,w=d*o,P=Object(c.useCallback)((function(){return h(1)}),[d]),v=Object(c.useCallback)((function(){return h(d-1)}),[d]),E=Object(c.useCallback)((function(){return h(d+1)}),[d]),_=Object(c.useCallback)((function(){return h(f)}),[f]);return u.a.createElement("div",{className:O.a.wrapper},u.a.createElement("div",{className:O.a.paginator},d>1&&u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{onClick:P},"START"),u.a.createElement("button",{onClick:v},"PREV")),i.filter((function(e){return e>=b&&e<=w})).map((function(e){var t="".concat(O.a.pages," ").concat(r===e?O.a.selectedPage:""," ").concat(s?O.a.isFetching:"");return u.a.createElement("span",{key:e,onClick:function(t){return a(e)},className:t},e)})),f>d&&u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{onClick:E},"NEXT"),u.a.createElement("button",{onClick:_},"END"))))})),z=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onPageChanged=function(t){var n=e.props.pageSize;e.props.requestUsers(t,n)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUsers(t,n)}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(F,{pageSize:this.props.pageSize,totalItemsCount:this.props.totalUsersCount,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,portionSize:10,isFetching:this.props.isFetching}),this.props.isFetching?u.a.createElement(w.a,null):u.a.createElement(b,{users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),n}(u.a.Component);t.default=Object(P.d)(Object(l.b)((function(e){return{users:v(e),pageSize:E(e),totalUsersCount:_(e),currentPage:y(e),isFetching:C(e),followingInProgress:k(e)}}),{follow:i.b,unfollow:i.d,requestUsers:i.c}))(z)}}]);
//# sourceMappingURL=4.fa1c2bd8.chunk.js.map